PROCEEDINGS OF THE 2nd WORKSHOP ON POSITIONING, NAVIGATION AND COMMUNICATION (WPNC’05)
& 1st ULTRA-WIDEBAND EXPERT TALK (UET'05)

A Hierarchical Architecture for Indoor Positioning Services
Li-Der CHOU

and

Chun-Yen CHANG

Department of Computer Science and Information Engineering, National Central University
Chungli, Taoyuan, Taiwan 32001 , R.O.C.,
Email: cld@csie.ncu.edu.tw

Abstract –Wireless technologies are capable of supporting mobility for users, and thus are
popularly adopted to access the Internet today. As long as the position of a user is identified,
location-based services, such as tour guide systems and mobile shopping, can be delivered to the
user and improve the convenience in life. In indoor environment, the GPS signal cannot be
received, and the positioning service requires the aid of indoor wireless technologies, such as
wireless LAN, Bluetooth, Infrared and RFID. By integrating these heterogeneous wireless
technologies, a hierarchical architecture for the indoor positioning service is proposed to
enhance the positioning accuracy. The hierarchical architecture is implemented in the
environment of laboratory and the accuracy is about 1 meter.

1. Introduction
Today many location-based services have been developed in indoor and outdoor environment,
such as tour guide systems [1] [2], mobile shopping, or listing neighboring entertainments, restaurants
and scenic spots. All of the location-based services depend on the position of the users. The Global
Position System (GPS) [3] signals cannot be received in the indoor environment, and the technologies
of the indoor positioning service [4] are not so easy and direct as the outdoor positioning ones.
Therefore, how to estimate accurately the position through these wireless technologies becomes a key
technical issue in the indoor environment.
In general, the positioning service requires the aid of indoor wireless technologies. There exist
many kinds of indoor positioning technologies by detecting signals of heterogeneous wireless
technologies, such as wireless LAN (WLAN), Bluetooth, infrared and RFID [5] [6]. The
characteristics of accuracy, signal transmission distance and deployment cost for the indoor
positioning technologies are quite different. For example, the transmission distances of the infrared
and the RFID signals are limited from several centimeters to meters only, but the coverage of the
access points for Bluetooth and WLANs can be up to 100 meters. The indoor positioning technologies
based on infrared and RFID are more accurate than those based on Bluetooth and WLANs. However,
infrared signal transmitters [7] [8] [9] and RFID transponders are usually not deployed as widespread
as Bluetooth and WLANs, and can not be accessed in some parts of the indoor environment. Table 1
gives the comparisons among the heterogeneous positioning technologies, where the items for
comparison include adaptive range, indoor accuracy, indoor Signal Error Rate, power consumption,
hardware cost and implementation complexity. Thus the heterogeneous indoor positioning
technologies should be adopted and cooperated, so as to match the features and the accuracy
requirement of the provided indoor location-based services.
In the paper a hierarchical architecture is proposed to improve the accuracy of indoor positioning,
according to the hand-held equipment of users and the actual indoor environment. The proposed


This research was supported in part by the Service-oriented Information Marketplace Project, the Ministry of
Economy of the Republic of China under grant 93-EC-17-A-02-S1-029, and by National Science Council of
the Republic of China under contract NSC 93-2219-E-008-002.
141

PROCEEDINGS OF THE 2nd WORKSHOP ON POSITIONING, NAVIGATION AND COMMUNICATION (WPNC’05)
& 1st ULTRA-WIDEBAND EXPERT TALK (UET'05)

Table 1.

Comparisons among heterogeneous positioning technologies

Technology
Items
Range

GPS

GSM

WLAN

Bluetooth

Wide area Wide area Micro area Micro area

Accuracy
Signal Error Rate

No signal
indoors
No signal
indoors

Infrared

RFID

Pico area Pico area

Low

Low

Low

High

High

Low

Mid

Low

Lowest

Lowest

Power Consumption

Low

Low

High

High

Low

Low

Hardware Cost

High

High

High

High

Low

Low

Implementation Complexity

High

High

High

High

Low

Low

architecture is capable of crosschecking hierarchically the indoor positioning results generated by the
heterogeneous positioning technologies, and then performing the adjustment so as to achieve the
accuracy of the estimation. Besides, the proposed architecture is implemented in the environment of
laboratory, and the accuracy is up to 1 meter.

2. Proposed hierarchical positioning architecture
Assume that the hand-held devices carried by the mobile users are capable of receiving signals
transmitted from heterogeneous wireless technologies, such as WLANs and infrared. Figure 1 shows
the architecture of the proposed hierarchical indoor positioning service. As an example, the mobile
device is equipped with appropriate network interfaces to receive the ID signals transmitted by WLAN
access points and infrared signal transmitters. The accurate positions of the WLAN access points and
the infrared signal transmitters are given in advance. A program, called the location client, is installed

Fig. 1.

Architecture of the proposed hierarchical indoor positioning service
142

PROCEEDINGS OF THE 2nd WORKSHOP ON POSITIONING, NAVIGATION AND COMMUNICATION (WPNC’05)
& 1st ULTRA-WIDEBAND EXPERT TALK (UET'05)

Location Based Service
Module (LBSM)

Database

RP Info

Location Info

Location Module
RSSI

Location Info
IRID and
RSSI

IRID

NDIS Interface

RS232 API

Wireless Lan
Card

Raw IR

Location
Info

Positioning
Engine

Signal Collector Module

Location Client
Fig. 2.

Location Server

Functional structure of the location client and the location server

in each mobile host. As the ID signals are received, the location client of the mobile host delivers the
signal strengths and IDs of all detected WLAN access points, or just the ID of the infrared signal
transmitter, to the location server. The location server will estimate the position of the mobile host, and
then deliver the estimated position back to the location client. Then the location-based services
corresponding to the estimated position will be retrieved to serve the mobile user. The estimated
positions will be stored in the database, so that the location server is able to trace the historical moving
path of each mobile user. As a mobile host receives the ID signal of an infrared signal transmitter, the
distance error of the estimated position is only several centimeters to several meters from the infrared
signal transmitter. However, as the ID signal of a WLAN access point is received, the distance error of
the estimated position is about 10 to 100 meters from the WLAN access point. Obviously, the position
information provided by the infrared signal transmitter is more accurate than that provided by WLAN
access points, because the transmission distance of the infrared positioning devices is much smaller
than the WLAN access points. In general, WLAN access points can be deployed to cover the whole
indoor environment easily, but it is difficult for infrared signal transmitters. Therefore, the positions
estimated by the location server are almost based on the signal information of WLAN access points.
Once the infrared signal is detected, the position of the mobile host will be adjusted immediately to the
position of the infrared signal transmitter, because the infrared technology is more accurate.
Obviously, the proposed hierarchical positioning architecture is based on the client/server model.
The functional structure of the location server and the location client is shown in Fig. 2. The location
client implemented in the hand-held devices consists of signal collector module, location module, and
location-based service module. The signal collector module is responsible for detecting the positioning
signals for heterogeneous wireless technologies. The location module is responsible for delivering the
collected signal information, such as Received Signal Strength Indicator (RSSI) and Infrared ID
(IRID), to the location server, and receiving the estimated position from the location server. After
receiving the estimated position, the location-based service module immediately offers the
corresponding services or actions for the mobile user. The location server consists of positioning
engine and database. The positioning engine is responsible for estimating the position of the mobile
user according to the signal information delivered from the location client. Basically, the position can
143

PROCEEDINGS OF THE 2nd WORKSHOP ON POSITIONING, NAVIGATION AND COMMUNICATION (WPNC’05)
& 1st ULTRA-WIDEBAND EXPERT TALK (UET'05)

be estimated according to the measured RSSI values of at least three access points. Then the
positioning engine performs the crosscheck and the adjustment for the estimated position, according to
the signal information of other heterogeneous wireless technologies, so as to improve the accuracy.
Another mission of the positioning engine is to transmit the estimated position back to the location
module of the location client. The database is responsible for recording the estimated positions, so that
the moving path of each mobile user can be traced and monitored.

3. Implementation
The proposed hierarchical positioning architecture is implemented in the laboratory, where two
positioning technologies, infrared and WLAN, are implemented. There are three access points of IEEE
802.11b wireless LANs and four infrared signal transmitters deployed in the laboratory, as shown in
Fig. 3, where the transmitted signals of the three WLAN access points cover the whole laboratory. The
infrared signal transmitters and the WLAN access points transmit their unique ID number periodically.
To improve the accuracy of the estimation, the RSSI values of the WLAN access points in specific
reference points are measured and stored in the database of the location server in advance. Figure 4
shows the furnishings of the laboratory and the selected reference points of WLAN, the blue spots. If
the signal collector module of the location client detects the WLAN signals only, the location server
estimates the position by comparing the RSSI values of all detected WLAN access points with those of
the reference points. Once the signal collector module detects the signal of an infrared signal
transmitter, the corresponding position of the infrared signal transmitter will be reported as the
position of the mobile user to reduce the distance error. Moreover, the reported position of the infrared
signal transmitter will be adopted to adjust the positioning information of the WLAN reference points
stored in the database.
Moreover, the historical position information stored in the database can be analyzed and retrieved
to display the moving path of the mobile user in a graphical interface. Thus the system administrator is
able to trace every mobile user and know where the hot indoor spots are. The location-based services
can be appropriately and dynamically adjusted according to the location of the hot indoor spots. In Fig.
5, the red lines represent the moving path that a specific mobile user passes through. The time that the
mobile user visited that position is also displayed in the graphic interface. Experimental shows that the
distance error of the proposed hierarchical architecture can be reduced to 1 meter.
Infrared Signal
Transmitter

Database

IRID
AP

AP

AP

Fig. 3

RSSI
.
.
.
.
.

Estimative
Position

RSSI
IRID

Positioning
Engine

RSSI

RSSI

Infrared signal transmitters and WLAN access points are deployed in the laboratory
144

PROCEEDINGS OF THE 2nd WORKSHOP ON POSITIONING, NAVIGATION AND COMMUNICATION (WPNC’05)
& 1st ULTRA-WIDEBAND EXPERT TALK (UET'05)

Fig. 4

The furnishings of the laboratory and the reference points of WLAN

Fig. 5

The graphical interface of the moving path for a specific mobile user

References
[1] L.-D. Chou, C.-H. Wu, S.-P. Ho, C.-C. Lee, and J.-M. Chen, “
Re
qui
r
e
me
ntAn
a
l
y
s
i
sa
nd
Implementation of Position-aware Multimedia Museum Guide Systems,”Proceedings of AINA
2004International Conference on Advanced Information Networking and Applications, Fukuoka,

145

PROCEEDINGS OF THE 2nd WORKSHOP ON POSITIONING, NAVIGATION AND COMMUNICATION (WPNC’05)
& 1st ULTRA-WIDEBAND EXPERT TALK (UET'05)

Japan, Mar. 2004.
[2] L.-D. Chou, C.-C. Lee, M.-Y. Lee, C.-Y. Chang, “
ATourGui
deSy
s
t
e
mf
orMo
bi
l
eLe
a
r
n
i
ngi
n
Museum,”Proceedings of IEEE WMTE 2004The Second IEEE International Workshop on
Wireless and Mobile Technologies in Education, Chungli, Taoyuan, Taiwan, R.O.C., Mar. 2004.
[3] P. Enge, and P. Misra, “
Special Issue on GPS: The Global positioning System,“Proceedings of
the IEEE, pp. 3-172, Jan. 1999.
[4] J
.We
r
b
,C.La
nz
l
,“
De
s
i
g
ni
ngaPos
i
t
i
on
i
ngSy
s
t
e
mf
orFinding Things and Pe
opl
eI
ndoor
s
,
”
IEEE Spectrum, 71-78, Sept. 1998.
[5] A. Ward, A. Jones, and A. Hopper. "A New Location Technique for the Active Office," IEEE
Personal Communications, Vol. 4, No. 5, pp 42-47, Oct. 1997.
[6] “
Radio Frequency Identification –RFID: A Basic Primer,”v.1.11, an AIM white paper, Sept.
1999.
[7] L.-D. Chou, C.-H. Wu, S.-P. Ho, and C.-C. Lee, “
Po
s
i
t
i
on-Aware Multimedia Mobile Learning
Systems in Museums,”Proceedings of IASTED WBE 2004 － International Conference on
Web-based Education, Innsbruck, Austria, Feb. 2004.
[8] L.-D. Chou, C.-C. Lee, M.-Y. Lee, G.-Y. Chang, C.-H. Liao, and K.-F. Jian, “
Design and
Implementation of Location-based Multimedia Tour Guide Systems,”Proceedings of TANet 2003

Taiwan Area Network Conference, Taipei, Taiwan, R.O.C., pp. 957-962, Oct. 2003.
[9] L.-D. Chou, C.-C. Lee, M.-Y. Lee, and C.-Y. Chang, “
Position-Aware Active Learning Based on
Connectionless Positioning in Indoor Environment,”Positioning, Navigation and Communication,
Series in Hannoversche Beiträge zur Nachrichtentechnik, pp. 189-194, Shaker Verlag Publishers,
Germany, ISBN: 3-8322-2553-6, Mar. 2004.

146

